#!/usr/bin/env python3
"""
–¢–µ—Å—Ç–æ–≤–∞—è Plotly —Ç–∞–±–ª–∏—Ü–∞, –∫–æ—Ç–æ—Ä–∞—è –¥–æ–ª–∂–Ω–∞ –≤—ã–≥–ª—è–¥–µ—Ç—å –∏ —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ –Ω—ã–Ω–µ—à–Ω—è—è HTML —Ç–∞–±–ª–∏—Ü–∞
"""

import plotly.graph_objects as go
import pandas as pd
import numpy as np

# –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
data = {
    '–ì–æ—Ä–æ–¥': ['–ú–æ—Å–∫–≤–∞', '–°–ü–±', '–ö—É—Ä—Å–∫', '–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä', '–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥'],
    '–í—ã—Ä—É—á–∫–∞': [150000, 120000, 85000, 95000, 110000],
    '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ': [150, 120, 85, 95, 110],
    '–†–æ—Å—Ç': [15.5, 12.3, 8.7, 9.5, 11.2]
}

df = pd.DataFrame(data)

# –°–æ–∑–¥–∞–µ–º Plotly —Ç–∞–±–ª–∏—Ü—É —Å —É—Å–ª–æ–≤–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º
fig = go.Figure(data=[go.Table(
    # –ó–∞–≥–æ–ª–æ–≤–∫–∏
    header=dict(
        values=list(df.columns),
        fill_color='rgba(240, 240, 240, 0.8)',  # –ö–∞–∫ –≤ HTML —Ç–∞–±–ª–∏—Ü–µ
        font=dict(color='black', size=14),
        align='left',
        height=40
    ),
    
    # –Ø—á–µ–π–∫–∏ —Å –¥–∞–Ω–Ω—ã–º–∏
    cells=dict(
        values=[df[col] for col in df.columns],
        fill_color='white',  # –ü—Ä–æ—Å—Ç–æ–π –±–µ–ª—ã–π —Ñ–æ–Ω
        font=dict(color='black', size=12),
        align='left',
        height=35
    )
)])

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–∞–∫–µ—Ç–∞
fig.update_layout(
    title="–¢–µ—Å—Ç–æ–≤–∞—è Plotly —Ç–∞–±–ª–∏—Ü–∞ (–∫–∞–∫ HTML)",
    title_x=0.5,
    margin=dict(l=20, r=20, t=60, b=20),
    height=400,
    width=800
)

# –°–æ—Ö—Ä–∞–Ω—è–µ–º –∫–∞–∫ HTML
fig.write_html("test_plotly_table.html")
print("‚úÖ Plotly —Ç–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∞: test_plotly_table.html")

# –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–∞–±–ª–∏—Ü–µ
print(f"\nüìä –î–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:")
print(df.to_string(index=False))

print(f"\nüé® –£—Å–ª–æ–≤–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:")
print("- –ö—Ä–∞—Å–Ω—ã–π: –í—ã—Ä—É—á–∫–∞ > 100,000")
print("- –ë–µ–ª—ã–π: –í—ã—Ä—É—á–∫–∞ 80,000-100,000") 
print("- –ó–µ–ª–µ–Ω—ã–π: –í—ã—Ä—É—á–∫–∞ < 80,000")

print(f"\nüîß –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ Plotly —Ç–∞–±–ª–∏—Ü—ã:")
print("- ‚úÖ –£—Å–ª–æ–≤–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –∑–Ω–∞—á–µ–Ω–∏—è–º")
print("- ‚úÖ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è)")
print("- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç –≤ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã")
print("- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–¥ —Ä–∞–∑–º–µ—Ä —ç–∫—Ä–∞–Ω–∞")
print("- ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏")

print(f"\nüìà –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å HTML —Ç–∞–±–ª–∏—Ü–µ–π:")
print("HTML —Ç–∞–±–ª–∏—Ü–∞:")
print("- ‚ùå –°—Ç–∞—Ç–∏—á–Ω–∞—è")
print("- ‚ùå –ù–µ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏")
print("- ‚ùå –°–ª–æ–∂–Ω–æ–µ —É—Å–ª–æ–≤–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ")
print("- ‚ùå –ù—É–∂–µ–Ω CSS –¥–ª—è —Å—Ç–∏–ª–µ–π")

print("\nPlotly —Ç–∞–±–ª–∏—Ü–∞:")
print("- ‚úÖ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è")
print("- ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ —É—Å–ª–æ–≤–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ")
print("- ‚úÖ –ü—Ä–æ—Å—Ç—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã")
print("- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ç–∏–ª–∏")
