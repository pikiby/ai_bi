# Функция _render_table()

## Назначение
Главная функция отрисовки таблиц - координирует полную отрисовку таблиц от заголовка до кнопок скачивания.

## Алгоритм работы
1. **Валидация данных** → Проверка DataFrame
2. **Подготовка** → Получение метаданных и номера таблицы
3. **Заголовок** → Генерация умного заголовка через `_get_title()`
4. **Содержимое** → Отрисовка таблицы с стилями через `_render_table_content()`
5. **Подпись** → Добавление подписи через `_render_table_caption()`
6. **SQL** → Отображение SQL-кода через `_render_sql_block()`
7. **Скачивание** → Кнопки экспорта через `_render_download_buttons()`

## Используемые функции
- `_get_title()` - умные заголовки с fallback
- `_render_table_content()` - отрисовка с CSS стилями
- `_render_table_caption()` - подписи с анализом SQL
- `_render_sql_block()` - свернутые SQL блоки
- `_render_download_buttons()` - экспорт CSV/XLSX

## Обработка ошибок
Graceful degradation при некорректных данных, безопасная обработка отсутствующих метаданных.

## Особенности стилей
- Поддержка пользовательских стилей через `table_style` в метаданных
- Интеграция с системой `next_table_style` для отложенного применения
- CSS-генерация с адаптацией к темной теме Streamlit
